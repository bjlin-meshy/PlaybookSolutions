/**
 * Animation Library
 * Playbook Website
 */

/* ============================================
   涟漪效果
   ============================================ */
.btn, [data-ripple] {
  position: relative;
  overflow: hidden;
}

.ripple-effect {
  position: absolute;
  border-radius: 50%;
  background: rgba(255, 255, 255, 0.3);
  transform: scale(0);
  animation: ripple 0.6s ease-out forwards;
  pointer-events: none;
}

@keyframes ripple {
  to {
    transform: scale(4);
    opacity: 0;
  }
}

/* ============================================
   卡片倾斜效果
   ============================================ */
[data-tilt] {
  transition: transform 0.1s ease-out;
  transform-style: preserve-3d;
}

/* ============================================
   滚动动画
   ============================================ */
[data-scroll-animate] {
  opacity: 0;
  transform: translateY(30px);
  transition: opacity 0.6s var(--ease-smooth), transform 0.6s var(--ease-smooth);
}

[data-scroll-animate].animate-in {
  opacity: 1;
  transform: translateY(0);
}

[data-scroll-animate="fade-up"] { transform: translateY(40px); }
[data-scroll-animate="fade-left"] { transform: translateX(-40px); }
[data-scroll-animate="fade-right"] { transform: translateX(40px); }
[data-scroll-animate="zoom"] { transform: scale(0.9); }

[data-scroll-animate="fade-up"].animate-in,
[data-scroll-animate="fade-left"].animate-in,
[data-scroll-animate="fade-right"].animate-in { transform: translate(0, 0); }
[data-scroll-animate="zoom"].animate-in { transform: scale(1); }

/* Staggered delays */
[data-scroll-animate][data-delay="1"] { transition-delay: 0.1s; }
[data-scroll-animate][data-delay="2"] { transition-delay: 0.2s; }
[data-scroll-animate][data-delay="3"] { transition-delay: 0.3s; }
[data-scroll-animate][data-delay="4"] { transition-delay: 0.4s; }
[data-scroll-animate][data-delay="5"] { transition-delay: 0.5s; }

/* ============================================
   Glitch 电击效果
   ============================================ */
@keyframes glitchShake {
  0% { transform: translate(0, 0) skewX(0deg); filter: none; }
  10% { transform: translate(-8px, 2px) skewX(-2deg); filter: hue-rotate(90deg); }
  20% { transform: translate(8px, -2px) skewX(2deg); filter: hue-rotate(-90deg) saturate(2); }
  30% { transform: translate(-4px, 0) skewX(0deg); filter: none; }
  40% { transform: translate(6px, 1px) skewX(1deg); filter: hue-rotate(180deg); }
  50% { transform: translate(0, -3px) skewX(-1deg); filter: brightness(2); }
  60% { transform: translate(-6px, 2px) skewX(2deg); filter: hue-rotate(-45deg); }
  70% { transform: translate(4px, 0) skewX(0deg); filter: saturate(3); }
  80% { transform: translate(-2px, -1px) skewX(-1deg); filter: none; }
  90% { transform: translate(2px, 1px) skewX(1deg); filter: brightness(1.5); }
  100% { transform: translate(0, 0) skewX(0deg); filter: none; }
}

@keyframes electricFlash {
  0% { opacity: 0; }
  5% { opacity: 0.8; }
  10% { opacity: 0; }
  15% { opacity: 0.6; }
  20% { opacity: 0; }
  35% { opacity: 0.9; }
  40% { opacity: 0; }
  55% { opacity: 0.4; }
  60% { opacity: 0; }
  100% { opacity: 0; }
}

@keyframes rgbSplit {
  0% { text-shadow: 0 0 0 transparent; }
  20% { text-shadow: -3px 0 0 rgba(255, 0, 0, 0.7), 3px 0 0 rgba(0, 255, 255, 0.7); }
  40% { text-shadow: 3px 0 0 rgba(255, 0, 0, 0.7), -3px 0 0 rgba(0, 255, 255, 0.7); }
  60% { text-shadow: -2px 0 0 rgba(255, 0, 0, 0.5), 2px 0 0 rgba(0, 255, 255, 0.5); }
  80% { text-shadow: 1px 0 0 rgba(255, 0, 0, 0.3), -1px 0 0 rgba(0, 255, 255, 0.3); }
  100% { text-shadow: 0 0 0 transparent; }
}

.glitch-effect {
  animation: glitchShake 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
}

.glitch-effect .content {
  animation: rgbSplit 0.3s ease-out;
}

/* ============================================
   磁性按钮
   ============================================ */
[data-magnetic] {
  transition: transform 0.3s var(--ease-smooth);
}

/* ============================================
   图标弹跳
   ============================================ */
[data-bounce]:hover i,
[data-bounce]:hover .icon {
  animation: bounce 0.5s var(--ease-bounce);
}

@keyframes bounce {
  0%, 100% { transform: translateY(0); }
  50% { transform: translateY(-5px); }
}

/* ============================================
   页面切换动画
   ============================================ */
@view-transition { navigation: auto; }
::view-transition-old(root) { animation: fade-out 0.3s ease-out forwards; }
::view-transition-new(root) { animation: fade-in 0.3s ease-in forwards; }
@keyframes fade-out { to { opacity: 0; } }
@keyframes fade-in { from { opacity: 0; } }

/* ============================================
   卡片悬浮效果
   ============================================ */
.card-hover {
  transition: transform 0.3s var(--ease-smooth), box-shadow 0.3s ease;
}

.card-hover:hover {
  transform: translateY(-8px);
  box-shadow: 0 20px 40px rgba(204, 255, 0, 0.15);
}

/* ============================================
   文字渐变动画
   ============================================ */
@keyframes gradientFlow {
  0% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
  100% { background-position: 0% 50%; }
}

.gradient-text {
  background: linear-gradient(90deg, var(--accent-primary), var(--accent-secondary), var(--accent-primary));
  background-size: 200% auto;
  -webkit-background-clip: text;
  background-clip: text;
  -webkit-text-fill-color: transparent;
  animation: gradientFlow 3s ease infinite;
}
